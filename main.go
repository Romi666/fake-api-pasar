package main

import (
	"fake-web-pasar-api/controller"
	"fmt"
	"github.com/gin-gonic/gin"
	"github.com/joho/godotenv"
	"os"
	"log"
)

func main() {
	err := godotenv.Load()
	if err != nil {
		log.Fatal("Error loading .env file")
	}
	controller.VerifyIdToken("eyJhbGciOiJSUzI1NiIsImtpZCI6ImQwNWVmMjBjNDUxOTFlZmY2NGIyNWQzODBkNDZmZGU1NWFjMjI5ZDEiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJhY2NvdW50cy5nb29nbGUuY29tIiwiYXpwIjoiNjY2NjMyMzIwMTgzLTg5cjdyaG5wb2NiN2wyYnM0NDhuMnFuc29oNWQxaGpwLmFwcHMuZ29vZ2xldXNlcmNvbnRlbnQuY29tIiwiYXVkIjoiNjY2NjMyMzIwMTgzLTg5cjdyaG5wb2NiN2wyYnM0NDhuMnFuc29oNWQxaGpwLmFwcHMuZ29vZ2xldXNlcmNvbnRlbnQuY29tIiwic3ViIjoiMTAzNDIwMDM5MTE2MTQ0NjE2NzE4IiwiZW1haWwiOiJha2FzaGlyeXV0YXJvdUBnbWFpbC5jb20iLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwiYXRfaGFzaCI6Imhad0dmUkJDbVpDRXd1cHp5aUhFR3ciLCJuYW1lIjoiUm9taSBBYmR1bCBZdXN1ZiIsInBpY3R1cmUiOiJodHRwczovL2xoMy5nb29nbGV1c2VyY29udGVudC5jb20vYS0vQU9oMTRHajViNUtLOERoU0lSaUFqblhhakRSQUVnd21zX2dFd2hTdjFEdk0zZz1zOTYtYyIsImdpdmVuX25hbWUiOiJSb21pIiwiZmFtaWx5X25hbWUiOiJBYmR1bCBZdXN1ZiIsImxvY2FsZSI6ImlkIiwiaWF0IjoxNjA0Mjg1NTk5LCJleHAiOjE2MDQyODkxOTksImp0aSI6IjE5YzBmYzk1NzVlNDY3YTBkNzBmY2YxMzcwODhhN2M2YWQ1MDY0NmQifQ.NMQEH7bduu3gY0mqDoJBugSTrPhpQ6WaQB6-94kADNYV9Q5Nn28cNqscUA9OtaJKibtnr6P6D5Fdgy-td1iRDshCLKiXbVIyTx_5cxJ-4-_113bELTOZ2Ept3-IjXglzJpm7j4yqvFq98CE0O-NXbFixwBM5E5pk1paEIWgrTuRyLW6qHU2YbYaSn41Eo0W2Bw6Y38qBlN-TERWDR6o67hPVeY6rljfmymGI2V4AvYL4G3xZwJflxoIw_jm3m6XONwzhCMwS5EqTq4t-UY_5ICNmthDJkOkq5rhglRRo5QBY8TVUGnslo-H7D7Dcnq4OvFHj1NtTI-8Vh4nbF_ENMA.eyJpc3MiOiJhY2NvdW50cy5nb29nbGUuY29tIiwiYXpwIjoiNjY2NjMyMzIwMTgzLTg5cjdyaG5wb2NiN2wyYnM0NDhuMnFuc29oNWQxaGpwLmFwcHMuZ29vZ2xldXNlcmNvbnRlbnQuY29tIiwiYXVkIjoiNjY2NjMyMzIwMTgzLTg5cjdyaG5wb2NiN2wyYnM0NDhuMnFuc29oNWQxaGpwLmFwcHMuZ29vZ2xldXNlcmNvbnRlbnQuY29tIiwic3ViIjoiMTE0ODIxMjE5NjA5NzkwODc0MzczIiwiZW1haWwiOiJyb21pMTYxMTk5QGdtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJhdF9oYXNoIjoiMFpZTld5YnBVbFhINHExa2o2b09FQSIsIm5hbWUiOiJSb21pIEFiZHVsIFl1c3VmIiwicGljdHVyZSI6Imh0dHBzOi8vbGgzLmdvb2dsZXVzZXJjb250ZW50LmNvbS9hLS9BT2gxNEdqdUlleEhQbGhKbEp3dzZsNHdJd2NFa3kxSC14SjJvQUwxXzhjTD1zOTYtYyIsImdpdmVuX25hbWUiOiJSb21pIiwiZmFtaWx5X25hbWUiOiJBYmR1bCBZdXN1ZiIsImxvY2FsZSI6ImVuIiwiaWF0IjoxNjA0Mjg1MDk4LCJleHAiOjE2MDQyODg2OTgsImp0aSI6ImE2OGMyNWI4ZGVhN2Y2OWJiMjhiMmZmNWU3MmVmMjE5OTU0YzJiNTgifQ.Xx9RKW1TTZtrfycdQG9R_1rmClVZddb5ZPV-ZssW3Ogr7pjYkMmo2Gt5SvtB7hjkqFHJ30NE-15Ic4TOVyK0Dt62qsskOU7Pj0J1GqwfNL4AiepsNUz2klBJj9LMJHbVd1CZM0bNdRYfSM8gsxlLXygePYGSnBRZ06dpJ4C0XpndjWyJ8jS5cVFDb-iguNElrHPaaaHmurNt2qv2dRL4PgBu0micRx7zlu2_pUV49pqXxbJRs04Ld-n4qdw0XJ6SC45TaRhQp49m8brDzDBxQMowQG7xMok68aS11jhCwHPiP6Pkm5u33TGsp8hkN_fWvMfe1gvgVGNfTUVovZs1Jw")
	routes := gin.Default()
	port := os.Getenv("PORT")

	v1 := routes.Group("/api/v1/")

	v1.POST("get_detail_pasar", controller.GetDetailPasar)
	v1.POST("get_all_pasar", controller.GetListPasar)
	v1.POST("get_all_product", controller.GetAllProduct)
	fmt.Printf("Listening on port localhost:%s", port)
	routes.Run(port)
}